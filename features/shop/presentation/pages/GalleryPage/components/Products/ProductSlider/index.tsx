import { Swiper } from "swiper/react";
import { FreeMode, Navigation, Scrollbar } from "swiper";
import "swiper/css";
import "swiper/css/navigation";
import cl from "./procut-slider.module.scss";
import { useRef } from "react";

export const ProductSlider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const prevButton = useRef(null);
  const nextButton = useRef(null);

  return (
    <Swiper
      className={cl.swiper}
      modules={[Navigation, FreeMode, Scrollbar]}
      scrollbar={{
        draggable: true
      }}
      spaceBetween={16}
      slidesPerView="auto"
      navigation={{ prevEl: prevButton.current, nextEl: nextButton.current }}
      onBeforeInit={({ params: { navigation } }) => {
        if (navigation && typeof navigation !== "boolean") {
          navigation.nextEl = nextButton.current;
        }
        if (navigation && typeof navigation !== "boolean") {
          navigation.prevEl = prevButton.current;
        }
      }}
    >
      {children}

      <button ref={prevButton} className={cl.next_button}>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
        >
          <path
            d="M12.6248 16.6365C12.779 16.7957 12.8546 17.0018 12.8516 17.2079C12.8486 17.4139 12.768 17.6181 12.6088 17.7733L12.5969 17.7851C12.4397 17.9315 12.2388 18.0028 12.0388 17.9999C11.8388 17.997 11.6399 17.9198 11.4867 17.7685C9.72976 16.0437 7.99177 14.2907 6.24581 12.5533C6.23885 12.5484 6.23288 12.5435 6.22691 12.5376C6.07271 12.3784 5.9971 12.1704 6.00008 11.9644C6.00307 11.7583 6.08465 11.5532 6.24382 11.3979L6.27068 11.3725C8.00868 9.65951 9.74468 7.94065 11.4877 6.23057C11.6399 6.08017 11.8388 6.00302 12.0388 6.00009C12.2388 5.99716 12.4397 6.06845 12.5969 6.21592L12.6118 6.23057C12.768 6.38488 12.8486 6.58802 12.8516 6.79311C12.8546 6.9982 12.779 7.20525 12.6248 7.36444L7.9271 11.981L12.6248 16.6365ZM17.7751 16.4412C17.9283 16.5994 18.0029 16.8055 17.9999 17.0106C17.9969 17.2167 17.9163 17.4208 17.7572 17.5761L17.7452 17.5878C17.589 17.7343 17.3871 17.8056 17.1871 17.8036C16.9872 17.8007 16.7872 17.7235 16.635 17.5721C14.9149 15.8836 13.1381 14.2233 11.3951 12.5552C11.3882 12.5503 11.3812 12.5445 11.3742 12.5386C11.22 12.3794 11.1444 12.1714 11.1474 11.9653C11.1504 11.7593 11.232 11.5542 11.3912 11.3989C13.1311 9.7435 14.8801 8.09398 16.624 6.44055L16.636 6.42785C16.7882 6.27745 16.9872 6.20127 17.1871 6.19834C17.3871 6.19541 17.588 6.26671 17.7452 6.4132L17.7602 6.42785C17.9163 6.58216 17.9969 6.78627 17.9999 6.99039C18.0029 7.19548 17.9273 7.40252 17.7731 7.56171L13.0794 11.98L17.7751 16.4412Z"
            fill="#6E00E5"
          />
        </svg>
      </button>
      <button ref={nextButton} className={cl.prev_button}>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="19"
          height="24"
          viewBox="0 0 19 24"
          fill="none"
        >
          <path
            d="M11.3752 7.36346C11.221 7.20427 11.1454 6.9982 11.1484 6.79213C11.1514 6.58606 11.232 6.38195 11.3912 6.22666L11.4031 6.21495C11.5603 6.06845 11.7612 5.99716 11.9612 6.00009C12.1612 6.00302 12.3601 6.08017 12.5133 6.23155C14.2702 7.95627 16.0082 9.70932 17.7542 11.4467C17.7612 11.4516 17.7671 11.4565 17.7731 11.4624C17.9273 11.6216 18.0029 11.8296 17.9999 12.0356C17.9969 12.2417 17.9154 12.4468 17.7562 12.6021L17.7293 12.6275C15.9913 14.3405 14.2553 16.0594 12.5123 17.7694C12.3601 17.9198 12.1612 17.997 11.9612 17.9999C11.7612 18.0028 11.5603 17.9315 11.4031 17.7841L11.3882 17.7694C11.232 17.6151 11.1514 17.412 11.1484 17.2069C11.1454 17.0018 11.221 16.7948 11.3752 16.6356L16.0729 12.019L11.3752 7.36346ZM6.22492 7.55878C6.07171 7.40057 5.9971 7.1945 6.00009 6.98941C6.00307 6.78334 6.08365 6.57923 6.24283 6.42394L6.25477 6.41222C6.41096 6.26573 6.61291 6.19444 6.81287 6.19639C7.01284 6.19932 7.2128 6.27647 7.36501 6.42785C9.0851 8.11644 10.8619 9.77671 12.6049 11.4448C12.6118 11.4497 12.6188 11.4555 12.6258 11.4614C12.78 11.6206 12.8556 11.8286 12.8526 12.0347C12.8496 12.2407 12.768 12.4458 12.6088 12.6011C10.8689 14.2565 9.11992 15.906 7.37596 17.5595L7.36402 17.5722C7.21181 17.7226 7.01284 17.7987 6.81287 17.8017C6.61291 17.8046 6.41195 17.7333 6.25477 17.5868L6.23984 17.5722C6.08365 17.4178 6.00307 17.2137 6.00009 17.0096C5.9971 16.8045 6.07271 16.5975 6.22691 16.4383L10.9206 12.02L6.22492 7.55878Z"
            fill="#6E00E5"
          />
        </svg>
      </button>
    </Swiper>
  );
};
